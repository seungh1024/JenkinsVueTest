{"version":3,"file":"js/245.0128aa71.js","mappings":"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","sources":["webpack://vue-board-bootstrap/./src/components/comment/CommentView.vue?0672","webpack://vue-board-bootstrap/src/components/comment/CommentView.vue","webpack://vue-board-bootstrap/./src/components/comment/CommentView.vue?e7f0","webpack://vue-board-bootstrap/./src/components/comment/CommentView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"commentArea\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}}),_c('b-button',{staticClass:\"w-10 p-2\",attrs:{\"variant\":\"success\"},on:{\"click\":_vm.addComment}},[_vm._v(\"등록\")])],1),_c('div',[_c('table',{attrs:{\"id\":\"book-list\"}},[_vm._m(0),_c('tbody',[_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.check),expression:\"check\"}]},[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.modifyComment),expression:\"modifyComment\"}],attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.modifyComment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.modifyComment=$event.target.value}}})]),_c('td',{attrs:{\"colspan\":\"2\"}},[_c('b-button',{staticClass:\"w-25 p-1\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateBtn()}}},[_vm._v(\"수정\")]),_c('b-button',{staticClass:\"w-25 p-1\",attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.cancelBtn()}}},[_vm._v(\"취소\")])],1)]),_vm._l((_vm.comments),function(com,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(com.comment_no))]),_c('td',[_vm._v(_vm._s(com.user_name))]),_c('td',[_vm._v(_vm._s(com.comment))]),_c('td',[_vm._v(_vm._s(com.comment_time))]),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkUser(com.user_name)),expression:\"checkUser(com.user_name)\"}],attrs:{\"colspan\":\"2\"}},[_c('b-button',{staticClass:\"w-25 p-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.makeUpdate(com.comment_no, com.comment, com.user_name)}}},[_vm._v(\"수정\")]),_c('b-button',{staticClass:\"w-25 p-1\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteBtn(com.comment_no, com.user_name)}}},[_vm._v(\"삭제\")])],1),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.checkUser(com.user_name)),expression:\"!checkUser(com.user_name)\"}],attrs:{\"colspan\":\"2\"}})])})],2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"no\")]),_c('th',[_vm._v(\"이름\")]),_c('th',[_vm._v(\"댓글\")]),_c('th',[_vm._v(\"작성시간\")]),_c('th',[_vm._v(\"수정,삭제\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"commentArea\">\n      <input type=\"text\" name=\"\" id=\"\" v-model=\"comment\" />\n      <b-button class=\"w-10 p-2\" variant=\"success\" @click=\"addComment\"\n        >등록</b-button\n      >\n    </div>\n    <div>\n      <table id=\"book-list\">\n        <thead>\n          <tr>\n            <th>no</th>\n            <th>이름</th>\n            <th>댓글</th>\n            <th>작성시간</th>\n            <th>수정,삭제</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-show=\"check\">\n            <td colspan=\"4\">\n              <input type=\"text\" name=\"\" id=\"\" v-model=\"modifyComment\" />\n            </td>\n            <td colspan=\"2\">\n              <b-button variant=\"success\" class=\"w-25 p-1\" @click=\"updateBtn()\"\n                >수정</b-button\n              ><b-button\n                variant=\"secondary\"\n                class=\"w-25 p-1\"\n                @click=\"cancelBtn()\"\n                >취소</b-button\n              >\n            </td>\n          </tr>\n          <tr v-for=\"(com, index) in comments\" :key=\"index\">\n            <td>{{ com.comment_no }}</td>\n            <td>{{ com.user_name }}</td>\n            <td>{{ com.comment }}</td>\n            <td>{{ com.comment_time }}</td>\n            <td colspan=\"2\" v-show=\"checkUser(com.user_name)\">\n              <b-button\n                variant=\"primary\"\n                class=\"w-25 p-1\"\n                @click=\"makeUpdate(com.comment_no, com.comment, com.user_name)\"\n                >수정</b-button\n              ><b-button\n                variant=\"danger\"\n                class=\"w-25 p-1\"\n                @click=\"deleteBtn(com.comment_no, com.user_name)\"\n                >삭제</b-button\n              >\n            </td>\n            <td colspan=\"2\" v-show=\"!checkUser(com.user_name)\"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  data: function () {\n    return {\n      comment: \"\",\n      check: false,\n      modifyComment: \"\",\n      modifyNo: 0,\n    };\n  },\n  created() {\n    this.setArticleNo(this.$route.params.articleno);\n    console.log(this.articleno);\n    this.getComments(this.articleno);\n    // this.$store.dispatch(\"getComments\", articleno);\n  },\n  methods: {\n    ...mapActions(\"qnaStore\", [\n      \"getComments\",\n      \"makeComment\",\n      \"updateComment\",\n      \"deleteComment\",\n      \"setArticleNo\",\n    ]),\n    addComment() {\n      console.log(this.$store.state.userInfo);\n      let body = {\n        comment: this.comment,\n        articleno: this.articleno,\n        user_name: this.$store.state.userInfo[\"name\"],\n      };\n      this.makeComment(body);\n      // this.$store.dispatch(\"makeComment\", this.comment);\n      this.comment = \"\";\n    },\n    makeUpdate(no, com, userName) {\n      if (userName != this.$store.state.userInfo[\"name\"]) {\n        alert(\"권한이 없습니다! 자신의 댓글만 수정 가능합니다!\");\n        return;\n      }\n      this.check = true;\n      this.modifyComment = com;\n      this.modifyNo = no;\n    },\n    updateBtn() {\n      console.log(\"modifyNo: \", this.modifyNo);\n      this.updateComment({\n        comment_no: this.modifyNo,\n        comment: this.modifyComment,\n      });\n      // this.$store.dispatch(\"updateComment\", {\n      //   comment_no: this.modifyNo,\n      //   comment: this.modifyComment,\n      // });\n      this.check = false;\n    },\n    cancelBtn() {\n      this.check = false;\n    },\n    deleteBtn(no, userName) {\n      if (userName != this.$store.state.userInfo[\"name\"]) {\n        alert(\"권한이 없습니다! 자신의 댓글만 삭제 가능합니다!\");\n        return;\n      }\n      this.deleteComment(no);\n      // this.$store.dispatch(\"deleteComment\", no);\n    },\n    checkUser(userName) {\n      if (userName == this.$store.state.userInfo[\"name\"]) {\n        return true;\n      }\n      return false;\n    },\n  },\n  computed: {\n    ...mapState(\"qnaStore\", [\"comments\", \"articleno\"]),\n    // comments() {\n    //   return this.$store.state.comments;\n    // },\n  },\n};\n</script>\n\n<style scoped>\ninput {\n  width: 90%;\n  padding: 12px 20px;\n  margin: 8px 10px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  color: #787878;\n  font-size: medium;\n}\n#book-list {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n#book-list thead {\n  background-color: #ccc;\n  font-weight: bold;\n}\n\n#book-list td,\n#book-list th {\n  text-align: center;\n  border-bottom: 1px solid #ddd;\n  height: 50px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentView.vue?vue&type=template&id=df239c86&scoped=true&\"\nimport script from \"./CommentView.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentView.vue?vue&type=style&index=0&id=df239c86&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df239c86\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","comment","staticClass","addComment","_v","_m","modifyComment","updateBtn","cancelBtn","_l","com","index","key","_s","comment_no","user_name","comment_time","checkUser","makeUpdate","deleteBtn","staticRenderFns","data","check","modifyNo","created","console","methods","articleno","alert","computed","component"],"sourceRoot":""}