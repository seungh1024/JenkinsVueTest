"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[245],{5245:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"commentArea"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),n("b-button",{staticClass:"w-10 p-2",attrs:{variant:"success"},on:{click:t.addComment}},[t._v("등록")])],1),n("div",[n("table",{attrs:{id:"book-list"}},[t._m(0),n("tbody",[n("tr",{directives:[{name:"show",rawName:"v-show",value:t.check,expression:"check"}]},[n("td",{attrs:{colspan:"4"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.modifyComment,expression:"modifyComment"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.modifyComment},on:{input:function(e){e.target.composing||(t.modifyComment=e.target.value)}}})]),n("td",{attrs:{colspan:"2"}},[n("b-button",{staticClass:"w-25 p-1",attrs:{variant:"success"},on:{click:function(e){return t.updateBtn()}}},[t._v("수정")]),n("b-button",{staticClass:"w-25 p-1",attrs:{variant:"secondary"},on:{click:function(e){return t.cancelBtn()}}},[t._v("취소")])],1)]),t._l(t.comments,(function(e,o){return n("tr",{key:o},[n("td",[t._v(t._s(e.comment_no))]),n("td",[t._v(t._s(e.user_name))]),n("td",[t._v(t._s(e.comment))]),n("td",[t._v(t._s(e.comment_time))]),n("td",{directives:[{name:"show",rawName:"v-show",value:t.checkUser(e.user_name),expression:"checkUser(com.user_name)"}],attrs:{colspan:"2"}},[n("b-button",{staticClass:"w-25 p-1",attrs:{variant:"primary"},on:{click:function(n){return t.makeUpdate(e.comment_no,e.comment,e.user_name)}}},[t._v("수정")]),n("b-button",{staticClass:"w-25 p-1",attrs:{variant:"danger"},on:{click:function(n){return t.deleteBtn(e.comment_no,e.user_name)}}},[t._v("삭제")])],1),n("td",{directives:[{name:"show",rawName:"v-show",value:!t.checkUser(e.user_name),expression:"!checkUser(com.user_name)"}],attrs:{colspan:"2"}})])}))],2)])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("no")]),n("th",[t._v("이름")]),n("th",[t._v("댓글")]),n("th",[t._v("작성시간")]),n("th",[t._v("수정,삭제")])])])}],a=n(4665),m={data:function(){return{comment:"",check:!1,modifyComment:"",modifyNo:0}},created(){this.setArticleNo(this.$route.params.articleno),console.log(this.articleno),this.getComments(this.articleno)},methods:{...(0,a.nv)("qnaStore",["getComments","makeComment","updateComment","deleteComment","setArticleNo"]),addComment(){console.log(this.$store.state.userInfo);let t={comment:this.comment,articleno:this.articleno,user_name:this.$store.state.userInfo["name"]};this.makeComment(t),this.comment=""},makeUpdate(t,e,n){n==this.$store.state.userInfo["name"]?(this.check=!0,this.modifyComment=e,this.modifyNo=t):alert("권한이 없습니다! 자신의 댓글만 수정 가능합니다!")},updateBtn(){console.log("modifyNo: ",this.modifyNo),this.updateComment({comment_no:this.modifyNo,comment:this.modifyComment}),this.check=!1},cancelBtn(){this.check=!1},deleteBtn(t,e){e==this.$store.state.userInfo["name"]?this.deleteComment(t):alert("권한이 없습니다! 자신의 댓글만 삭제 가능합니다!")},checkUser(t){return t==this.$store.state.userInfo["name"]}},computed:{...(0,a.rn)("qnaStore",["comments","articleno"])}},r=m,c=n(1001),i=(0,c.Z)(r,o,s,!1,null,"df239c86",null),u=i.exports}}]);
//# sourceMappingURL=245.0128aa71.js.map